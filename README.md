# url-shortener
API написано с использованием Swagger, БД - PostgreSQL. Короткая ссылка генерируются путем хеширования полной методом SHA256.  
При запуске автоматически происходят миграции по созданию таблицы в БД, отдельно создавать ее не нужно.  
### Методы:  
1. CreateShortUrl (метод POST) - генерация короткой ссылки по полной, возвращает строку с короткой ссылкой  
2. GetFullUrl (метод GET) - получение полной ссылки по короткой, возвращает RedirectResult на полную ссылку  
3. CreateQrCode (метод GET) - генерация QR-кода для заданной ссылки, возвращает путь до файла с QR-кодом  
### Настройки:  
1. appsettings.json  
  a. ConnectionString - connection string для соединения с БД  
  b. ForRobot - флаг, говорящий о том, нужно ли к короткой ссылке дописывать Url для редиректа или достаточно будет вернуть только ключ для последующего 
  вызова GET-запроса. true - возвращается только ключ, false - возвращается полная ссылка  
  c. RedirectUrl - ссылка для редиректа  
2. qrcodesettings.json  
  a. Path - путь до файла, в который нужно сохранить сгенерированный QR-код  
  b. Url - url, для которой нужно сгенерировать QR-код
### Инструкция по запуску:
1. Установить ConnectionString в файле appsettings.json для своей БД  
2. Запустить приложение  
3. API можно посмотреть в браузере по ссылке https://localhost:7280/swagger/index.html  
4. Unit-тесты написаны для ForRobot=true в файле appsettings.json  
